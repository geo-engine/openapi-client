/* tslint:disable */
/* eslint-disable */
/**
 * Geo Engine API
 * No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)
 *
 * The version of the OpenAPI document: 0.9.0
 * Contact: dev@geoengine.de
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */


import * as runtime from '../runtime';
import type {
  GetMapExceptionFormat,
  WmsRequest,
  WmsResponseFormat,
  WmsService,
  WmsVersion,
} from '../models/index';
import {
    GetMapExceptionFormatFromJSON,
    GetMapExceptionFormatToJSON,
    WmsRequestFromJSON,
    WmsRequestToJSON,
    WmsResponseFormatFromJSON,
    WmsResponseFormatToJSON,
    WmsServiceFromJSON,
    WmsServiceToJSON,
    WmsVersionFromJSON,
    WmsVersionToJSON,
} from '../models/index';

export interface WmsHandlerRequest {
    workflow: string;
    request: WmsRequest;
    bbox?: string;
    bgcolor?: string | null;
    crs?: string | null;
    elevation?: string | null;
    exceptions?: GetMapExceptionFormat | null;
    format?: WmsResponseFormat | null;
    height?: number;
    infoFormat?: string | null;
    layer?: string;
    layers?: string;
    queryLayers?: string;
    service?: WmsService;
    sld?: string | null;
    sldBody?: string | null;
    styles?: string;
    time?: string;
    transparent?: boolean | null;
    version?: WmsVersion | null;
    width?: number;
}

/**
 * 
 */
export class OGCWMSApi extends runtime.BaseAPI {

    /**
     * OGC WMS endpoint
     */
    async wmsHandlerRaw(requestParameters: WmsHandlerRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<Blob>> {
        if (requestParameters['workflow'] == null) {
            throw new runtime.RequiredError(
                'workflow',
                'Required parameter "workflow" was null or undefined when calling wmsHandler().'
            );
        }

        if (requestParameters['request'] == null) {
            throw new runtime.RequiredError(
                'request',
                'Required parameter "request" was null or undefined when calling wmsHandler().'
            );
        }

        const queryParameters: any = {};

        if (requestParameters['bbox'] != null) {
            queryParameters['bbox'] = requestParameters['bbox'];
        }

        if (requestParameters['bgcolor'] != null) {
            queryParameters['bgcolor'] = requestParameters['bgcolor'];
        }

        if (requestParameters['crs'] != null) {
            queryParameters['crs'] = requestParameters['crs'];
        }

        if (requestParameters['elevation'] != null) {
            queryParameters['elevation'] = requestParameters['elevation'];
        }

        if (requestParameters['exceptions'] != null) {
            queryParameters['exceptions'] = requestParameters['exceptions'];
        }

        if (requestParameters['format'] != null) {
            queryParameters['format'] = requestParameters['format'];
        }

        if (requestParameters['height'] != null) {
            queryParameters['height'] = requestParameters['height'];
        }

        if (requestParameters['infoFormat'] != null) {
            queryParameters['info_format'] = requestParameters['infoFormat'];
        }

        if (requestParameters['layer'] != null) {
            queryParameters['layer'] = requestParameters['layer'];
        }

        if (requestParameters['layers'] != null) {
            queryParameters['layers'] = requestParameters['layers'];
        }

        if (requestParameters['queryLayers'] != null) {
            queryParameters['query_layers'] = requestParameters['queryLayers'];
        }

        if (requestParameters['request'] != null) {
            queryParameters['request'] = requestParameters['request'];
        }

        if (requestParameters['service'] != null) {
            queryParameters['service'] = requestParameters['service'];
        }

        if (requestParameters['sld'] != null) {
            queryParameters['sld'] = requestParameters['sld'];
        }

        if (requestParameters['sldBody'] != null) {
            queryParameters['sld_body'] = requestParameters['sldBody'];
        }

        if (requestParameters['styles'] != null) {
            queryParameters['styles'] = requestParameters['styles'];
        }

        if (requestParameters['time'] != null) {
            queryParameters['time'] = requestParameters['time'];
        }

        if (requestParameters['transparent'] != null) {
            queryParameters['transparent'] = requestParameters['transparent'];
        }

        if (requestParameters['version'] != null) {
            queryParameters['version'] = requestParameters['version'];
        }

        if (requestParameters['width'] != null) {
            queryParameters['width'] = requestParameters['width'];
        }

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = await token("session_token", []);

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }

        let urlPath = `/wms/{workflow}`;
        urlPath = urlPath.replace(`{${"workflow"}}`, encodeURIComponent(String(requestParameters['workflow'])));

        const response = await this.request({
            path: urlPath,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.BlobApiResponse(response);
    }

    /**
     * OGC WMS endpoint
     */
    async wmsHandler(requestParameters: WmsHandlerRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<Blob> {
        const response = await this.wmsHandlerRaw(requestParameters, initOverrides);
        return await response.value();
    }

}
